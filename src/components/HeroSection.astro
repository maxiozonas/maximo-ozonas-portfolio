---
import { ArrowDownCircle } from "@lucide/astro";
import { getLangFromUrl, useTranslations } from "../i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

// Los textos para el efecto de typing se obtendr√°n de las traducciones
---

<section 
  id="home" 
  class="min-h-screen flex flex-col justify-center relative overflow-hidden pt-16"
> 
  <div class="container mx-auto px-4 z-10">
    <div class="flex flex-col md:flex-row items-center justify-between gap-8">
    <div class="max-w-3xl">
      <p class="text-[#99d98c] font-medium mb-2 opacity-0 animate-fade-in-up">
        {t('hero.text1')}
      </p>
      <h1 class="text-4xl md:text-6xl lg:text-7xl font-bold text-white mb-2 opacity-0 animate-fade-in-up animation-delay-300">
        <span class="bg-clip-text text-transparent bg-gradient-to-r from-[#99d98c] to-[#76c893]">
          {t('hero.text2')}
        </span>
      </h1>
      <div class="text-xl md:text-2xl lg:text-3xl font-medium text-[#99d98c] mb-6 opacity-0 animate-fade-in-up animation-delay-600">
        {t('hero.role')}
      </div>
      <p class="text-gray-300 text-lg mb-8 leading-relaxed max-w-2xl opacity-0 animate-fade-in-up animation-delay-900" set:html={t('hero.description')}>
      </p>
      <div class="flex flex-wrap gap-4 mb-12 opacity-0 animate-fade-in-up animation-delay-1200">
        <a 
          href="#projects" 
          class="px-6 py-3 bg-[#99d98c] hover:bg-[#76c893] text-[#000814] font-medium rounded-lg transform hover:scale-105 transition-all shadow-lg hover:shadow-[#99d98c]/30"
        >
          {t('hero.button1')}
        </a>
        <a 
          href={lang === 'es' ? '/Maximo Ozonas CV.pdf' : '/Maximo Ozonas CV Eng.pdf'} 
          download
          class="px-6 py-3 bg-transparent text-[#99d98c] font-medium rounded-lg border border-[#99d98c] hover:bg-[#99d98c]/10 transform hover:scale-105 transition-all shadow-lg flex items-center gap-2"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" x2="12" y1="15" y2="3"/></svg>
          {t('hero.button2')}
        </a>
      </div>
    </div>
    
    <div class="hidden md:block relative mr-4">
      <img 
        loading="lazy"
        src="/imagen.jpg" 
        alt="Maximo Ozonas" 
        class="rounded-full shadow-2xl w-96 h-auto object-cover opacity-0 animate-fade-in-up animation-delay-1200"
      />
      <div class="absolute -inset-1 rounded-full bg-gradient-to-r from-[#99d98c] to-[#76c893] opacity-70 blur-md -z-10"></div>
    </div>
    </div>
  </div>
  
  <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce">
    <a 
      href="#about" 
      class="text-gray-400 hover:text-[#99d98c] transition-colors"
      aria-label="Scroll down"
    >
      <ArrowDownCircle size={32} />
    </a>
  </div>
</section>

<!-- Script eliminado ya que no se necesita el efecto de tipeo -->

<style>
  @keyframes blob {
    0% {
      transform: translate(0px, 0px) scale(1);
    }
    33% {
      transform: translate(30px, -50px) scale(1.1);
    }
    66% {
      transform: translate(-20px, 20px) scale(0.9);
    }
    100% {
      transform: translate(0px, 0px) scale(1);
    }
  }
  
  .animate-blob {
    animation: blob 7s infinite;
  }
  
  .animation-delay-2000 {
    animation-delay: 2s;
  }
  
  .animation-delay-4000 {
    animation-delay: 4s;
  }
  
  @keyframes fade-in-up {
    0% {
      opacity: 0;
      transform: translateY(20px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .animate-fade-in-up {
    animation: fade-in-up 0.5s ease forwards;
  }
  
  .animation-delay-300 {
    animation-delay: 0.3s;
  }
  
  .animation-delay-600 {
    animation-delay: 0.6s;
  }
  
  .animation-delay-900 {
    animation-delay: 0.9s;
  }
  
  .animation-delay-1200 {
    animation-delay: 1.2s;
  }
</style>
